import { Button, VerticalBox, HorizontalBox, ScrollView } from "std-widgets.slint";

// Color scheme based on Forgejo branding
global ForgejoColors {
    // Main colors
    out property <color> primary-orange: #ff6600;
    out property <color> primary-dark: #1a1a2e;
    out property <color> secondary-dark: #16213e;
    out property <color> accent-blue: #0f3460;
    out property <color> text-white: #ffffff;
    out property <color> text-light: #e0e0e0;
    out property <color> text-muted: #a0a0a0;
    out property <color> card-bg: #1e1e3f;
    out property <color> header-bg: #0d0d1a;
    out property <color> footer-bg: #0a0a14;
}

// Navigation link component
component NavLink inherits Rectangle {
    in property <string> label;
    in property <bool> active: false;

    height: 40px;
    min-width: 80px;

    HorizontalLayout {
        padding-left: 16px;
        padding-right: 16px;
        alignment: center;

        Text {
            text: label;
            color: active ? ForgejoColors.primary-orange : ForgejoColors.text-light;
            font-size: 14px;
            vertical-alignment: center;
        }
    }

    TouchArea {
        mouse-cursor: pointer;
    }
}

// Button component styled for Forgejo
component ForgejoButton inherits Rectangle {
    in property <string> label;
    in property <bool> primary: false;

    height: 44px;
    min-width: 120px;
    border-radius: 6px;
    background: primary ? ForgejoColors.primary-orange : transparent;
    border-width: primary ? 0px : 1px;
    border-color: ForgejoColors.primary-orange;

    HorizontalLayout {
        padding-left: 20px;
        padding-right: 20px;
        alignment: center;

        Text {
            text: label;
            color: primary ? ForgejoColors.text-white : ForgejoColors.primary-orange;
            font-size: 14px;
            font-weight: 600;
            vertical-alignment: center;
        }
    }

    TouchArea {
        mouse-cursor: pointer;
    }
}

// Feature card component
component FeatureCard inherits Rectangle {
    in property <string> title;
    in property <string> description;
    in property <string> icon-text: "‚öô";

    background: ForgejoColors.card-bg;
    border-radius: 12px;
    min-height: 200px;

    VerticalLayout {
        padding: 24px;
        spacing: 16px;

        // Icon placeholder
        Rectangle {
            height: 48px;
            width: 48px;
            border-radius: 8px;
            background: ForgejoColors.primary-orange.with-alpha(0.2);

            Text {
                text: icon-text;
                font-size: 24px;
                color: ForgejoColors.primary-orange;
                horizontal-alignment: center;
                vertical-alignment: center;
            }
        }

        Text {
            text: title;
            color: ForgejoColors.text-white;
            font-size: 18px;
            font-weight: 700;
            wrap: word-wrap;
        }

        Text {
            text: description;
            color: ForgejoColors.text-muted;
            font-size: 14px;
            wrap: word-wrap;
        }
    }
}

// Footer link component
component FooterLink inherits Text {
    in property <string> label;
    text: label;
    color: ForgejoColors.text-muted;
    font-size: 13px;

    TouchArea {
        mouse-cursor: pointer;
    }
}

// Footer section component
component FooterSection inherits VerticalLayout {
    in property <string> title;
    spacing: 12px;

    Text {
        text: title;
        color: ForgejoColors.text-white;
        font-size: 14px;
        font-weight: 700;
    }
}

export component AppWindow inherits Window {
    title: "Forgejo ‚Äì Beyond coding. We forge.";
    preferred-width: 1200px;
    preferred-height: 900px;
    background: ForgejoColors.primary-dark;

    ScrollView {
        VerticalLayout {
            // ========== HEADER ==========
            Rectangle {
                height: 64px;
                background: ForgejoColors.header-bg;

                HorizontalLayout {
                    padding-left: 40px;
                    padding-right: 40px;
                    alignment: space-between;

                    // Logo area
                    HorizontalLayout {
                        spacing: 8px;
                        alignment: center;

                        // Logo icon placeholder
                        Rectangle {
                            width: 32px;
                            height: 32px;
                            border-radius: 4px;
                            background: ForgejoColors.primary-orange;

                            Text {
                                text: "F";
                                color: white;
                                font-size: 20px;
                                font-weight: 700;
                                horizontal-alignment: center;
                                vertical-alignment: center;
                            }
                        }

                        Text {
                            text: "Forgejo";
                            color: ForgejoColors.text-white;
                            font-size: 20px;
                            font-weight: 700;
                            vertical-alignment: center;
                        }
                    }

                    // Navigation links
                    HorizontalLayout {
                        spacing: 4px;
                        alignment: center;

                        NavLink { label: "Home"; active: true; }
                        NavLink { label: "Download"; }
                        NavLink { label: "Documentation"; }
                        NavLink { label: "Community"; }
                        NavLink { label: "Blog"; }
                    }

                    // Action buttons
                    HorizontalLayout {
                        spacing: 12px;
                        alignment: center;

                        ForgejoButton { label: "Try Codeberg"; }
                        ForgejoButton { label: "Get Started"; primary: true; }
                    }
                }
            }

            // ========== HERO SECTION ==========
            Rectangle {
                min-height: 500px;
                background: ForgejoColors.primary-dark;

                VerticalLayout {
                    padding: 80px;
                    spacing: 32px;
                    alignment: center;

                    // Tagline
                    Text {
                        text: "Beyond coding. We forge.";
                        color: ForgejoColors.text-white;
                        font-size: 56px;
                        font-weight: 700;
                        horizontal-alignment: center;
                    }

                    // Subtitle
                    Rectangle {
                        max-width: 800px;

                        Text {
                            text: "Forgejo is a self-hosted lightweight software forge.\nEasy to install and low maintenance, it just does the job.";
                            color: ForgejoColors.text-light;
                            font-size: 20px;
                            horizontal-alignment: center;
                            wrap: word-wrap;
                        }
                    }

                    // Description
                    Rectangle {
                        max-width: 700px;

                        Text {
                            text: "Brought to you by an inclusive community under the umbrella of Codeberg e.V., a democratic non-profit organization, Forgejo can be trusted to be exclusively Free Software.";
                            color: ForgejoColors.text-muted;
                            font-size: 16px;
                            horizontal-alignment: center;
                            wrap: word-wrap;
                        }
                    }

                    // CTA Buttons
                    HorizontalLayout {
                        spacing: 16px;
                        alignment: center;

                        ForgejoButton { label: "Download"; primary: true; }
                        ForgejoButton { label: "Documentation"; }
                        ForgejoButton { label: "View on Codeberg"; }
                    }
                }
            }

            // ========== FEATURES SECTION ==========
            Rectangle {
                min-height: 600px;
                background: ForgejoColors.secondary-dark;

                VerticalLayout {
                    padding: 60px;
                    spacing: 48px;

                    // Section header
                    VerticalLayout {
                        spacing: 16px;
                        alignment: center;

                        Text {
                            text: "Forge your software with Forgejo";
                            color: ForgejoColors.text-white;
                            font-size: 36px;
                            font-weight: 700;
                            horizontal-alignment: center;
                        }

                        Rectangle {
                            max-width: 600px;

                            Text {
                                text: "Take back control of your software development process, self-host your projects and get everyone involved in delivering quality software.";
                                color: ForgejoColors.text-muted;
                                font-size: 16px;
                                horizontal-alignment: center;
                                wrap: word-wrap;
                            }
                        }
                    }

                    // Feature cards - Row 1
                    HorizontalLayout {
                        spacing: 24px;
                        alignment: center;

                        FeatureCard {
                            width: 280px;
                            icon-text: "üè†";
                            title: "Self-Hosted";
                            description: "Host your own software forge on your infrastructure. Keep full control over your code and data.";
                        }

                        FeatureCard {
                            width: 280px;
                            icon-text: "üöÄ";
                            title: "Lightweight";
                            description: "Forgejo can easily be hosted on nearly every machine, including a Raspberry Pi or small cloud instance.";
                        }

                        FeatureCard {
                            width: 280px;
                            icon-text: "üîí";
                            title: "Secure";
                            description: "Security is a priority. Forgejo receives regular security updates and follows best practices.";
                        }
                    }

                    // Feature cards - Row 2
                    HorizontalLayout {
                        spacing: 24px;
                        alignment: center;

                        FeatureCard {
                            width: 280px;
                            icon-text: "üìã";
                            title: "Project Management";
                            description: "Issues, pull requests, wikis, kanban boards and much more to coordinate with your team.";
                        }

                        FeatureCard {
                            width: 280px;
                            icon-text: "üîÑ";
                            title: "Federation";
                            description: "Forgejo is working towards federating software forges, connecting communities across instances.";
                        }

                        FeatureCard {
                            width: 280px;
                            icon-text: "üí°";
                            title: "Easy to Use";
                            description: "Intuitive interface familiar to GitHub users, allowing smooth transition to a platform you own.";
                        }
                    }
                }
            }

            // ========== COMMUNITY SECTION ==========
            Rectangle {
                min-height: 300px;
                background: ForgejoColors.primary-dark;

                VerticalLayout {
                    padding: 60px;
                    spacing: 32px;
                    alignment: center;

                    Text {
                        text: "Join the Community";
                        color: ForgejoColors.text-white;
                        font-size: 36px;
                        font-weight: 700;
                        horizontal-alignment: center;
                    }

                    Rectangle {
                        max-width: 600px;

                        Text {
                            text: "Forgejo is developed by a community of volunteers. Everyone is welcome to contribute, whether through code, documentation, translations, or community support.";
                            color: ForgejoColors.text-muted;
                            font-size: 16px;
                            horizontal-alignment: center;
                            wrap: word-wrap;
                        }
                    }

                    HorizontalLayout {
                        spacing: 16px;
                        alignment: center;

                        ForgejoButton { label: "Contribute"; primary: true; }
                        ForgejoButton { label: "Chat with us"; }
                        ForgejoButton { label: "Follow Updates"; }
                    }
                }
            }

            // ========== FOOTER ==========
            Rectangle {
                min-height: 280px;
                background: ForgejoColors.footer-bg;

                VerticalLayout {
                    padding: 48px;
                    spacing: 32px;

                    // Footer columns
                    HorizontalLayout {
                        spacing: 80px;
                        alignment: center;

                        // About column
                        VerticalLayout {
                            spacing: 12px;
                            width: 200px;

                            Text {
                                text: "About";
                                color: ForgejoColors.text-white;
                                font-size: 14px;
                                font-weight: 700;
                            }
                            FooterLink { label: "About Forgejo"; }
                            FooterLink { label: "Governance"; }
                            FooterLink { label: "Sustainability"; }
                            FooterLink { label: "Comparison"; }
                        }

                        // Resources column
                        VerticalLayout {
                            spacing: 12px;
                            width: 200px;

                            Text {
                                text: "Resources";
                                color: ForgejoColors.text-white;
                                font-size: 14px;
                                font-weight: 700;
                            }
                            FooterLink { label: "Documentation"; }
                            FooterLink { label: "Download"; }
                            FooterLink { label: "Release Notes"; }
                            FooterLink { label: "API"; }
                        }

                        // Community column
                        VerticalLayout {
                            spacing: 12px;
                            width: 200px;

                            Text {
                                text: "Community";
                                color: ForgejoColors.text-white;
                                font-size: 14px;
                                font-weight: 700;
                            }
                            FooterLink { label: "Contribute"; }
                            FooterLink { label: "Code of Conduct"; }
                            FooterLink { label: "Chat"; }
                            FooterLink { label: "Forum"; }
                        }

                        // Connect column
                        VerticalLayout {
                            spacing: 12px;
                            width: 200px;

                            Text {
                                text: "Connect";
                                color: ForgejoColors.text-white;
                                font-size: 14px;
                                font-weight: 700;
                            }
                            FooterLink { label: "Codeberg"; }
                            FooterLink { label: "Fediverse"; }
                            FooterLink { label: "Matrix"; }
                            FooterLink { label: "Blog"; }
                        }
                    }

                    // Divider
                    Rectangle {
                        height: 1px;
                        background: ForgejoColors.text-muted.with-alpha(0.2);
                    }

                    // Copyright
                    HorizontalLayout {
                        alignment: space-between;

                        HorizontalLayout {
                            spacing: 8px;
                            alignment: center;

                            Rectangle {
                                width: 24px;
                                height: 24px;
                                border-radius: 4px;
                                background: ForgejoColors.primary-orange;

                                Text {
                                    text: "F";
                                    color: white;
                                    font-size: 14px;
                                    font-weight: 700;
                                    horizontal-alignment: center;
                                    vertical-alignment: center;
                                }
                            }

                            Text {
                                text: "Forgejo";
                                color: ForgejoColors.text-white;
                                font-size: 14px;
                                font-weight: 600;
                                vertical-alignment: center;
                            }
                        }

                        Text {
                            text: "¬© 2022-2024 Forgejo Contributors | Licensed under CC BY-SA 4.0";
                            color: ForgejoColors.text-muted;
                            font-size: 12px;
                            vertical-alignment: center;
                        }

                        Text {
                            text: "A Codeberg e.V. project";
                            color: ForgejoColors.text-muted;
                            font-size: 12px;
                            vertical-alignment: center;
                        }
                    }
                }
            }
        }
    }
}
